T0=7;
t=(-T0:T0/32:T0);
w1=cos(2*pi*t);
w2=zeros(1,length(t));
ind=(t>T0/2) & (t<T0/2);
w2(ind)=1;
Ns=length(t);
f=(-Ns/2:Ns/2-1)/(Ns*(t(2)-t(1)));
A1=fft(w1,Ns);
A2=fft(w2,Ns);
W1=fftshift(A1)/Ns;
W2=fftshift(A2)/Ns;
W=W1.*W2;
w=ifft(W);
subplot(311);
plot(t,w1);
subplot(312);
plot(t,w2);
subplot(313);
plot(t,abs(W));